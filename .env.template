#######################################################################
# VeriCrop Environment Configuration Template
# Copy this file to .env and fill in your values
# NEVER commit .env files with real credentials to version control
#######################################################################

#======================================================================
# DEPLOYMENT ENVIRONMENT
#======================================================================
VERICROP_MODE=production  # Options: dev, staging, production
COMPOSE_PROJECT_NAME=vericrop

#======================================================================
# POSTGRESQL DATABASE
#======================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=vericrop
POSTGRES_USER=vericrop
POSTGRES_PASSWORD=CHANGE_ME_SecurePassword123!  # ⚠️  CHANGE THIS!

# Connection Pool Settings
DB_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=30000
DB_MAX_LIFETIME=1800000

#======================================================================
# KAFKA EVENT STREAMING
#======================================================================
KAFKA_ENABLED=true
KAFKA_HOST=localhost
KAFKA_PORT=9092
KAFKA_BOOTSTRAP_SERVERS=kafka:9092

# Kafka Producer Settings
KAFKA_ACKS=all
KAFKA_RETRIES=3
KAFKA_IDEMPOTENCE=true
KAFKA_COMPRESSION_TYPE=snappy
KAFKA_BATCH_SIZE=16384
KAFKA_LINGER_MS=10

# Kafka Topics
KAFKA_TOPIC_BATCH_EVENTS=batch-events
KAFKA_TOPIC_QUALITY_ALERTS=quality-alerts
KAFKA_TOPIC_LOGISTICS_EVENTS=logistics-events
KAFKA_TOPIC_BLOCKCHAIN_EVENTS=blockchain-events
KAFKA_TOPIC_EVALUATION_REQUESTS=evaluation-requests
KAFKA_TOPIC_EVALUATION_RESULTS=evaluation-results
KAFKA_TOPIC_SHIPMENT_RECORDS=shipment-records

# Kafka Consumer Settings
KAFKA_GROUP_ID=vericrop-consumers
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=false
KAFKA_MAX_POLL_RECORDS=500

#======================================================================
# ML SERVICE (FastAPI)
#======================================================================
ML_SERVICE_URL=http://ml-service:8000
ML_SERVICE_TIMEOUT=30000
ML_SERVICE_RETRIES=3
ML_SERVICE_WORKERS=4

# Model Configuration
VERICROP_LOAD_DEMO=false  # Set to true to use demo mode without real model
ML_MODEL_PATH=/app/model/vericrop_quality_model.onnx
ML_LABELS_PATH=/app/model/label_map.json

#======================================================================
# VERICROP CORE APPLICATION
#======================================================================
SERVER_PORT=8080
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARN, ERROR
QUALITY_PASS_THRESHOLD=0.7

# Ledger and Data Paths
LEDGER_PATH=/app/ledger
DATA_PATH=/app/data

# Spring Boot Profiles
SPRING_PROFILES_ACTIVE=production

#======================================================================
# AIRFLOW WORKFLOW ORCHESTRATION
#======================================================================
AIRFLOW_ADMIN_USERNAME=admin
AIRFLOW_ADMIN_PASSWORD=CHANGE_ME_AirflowAdmin123!  # ⚠️  CHANGE THIS!
AIRFLOW_ADMIN_EMAIL=admin@vericrop.local

# Airflow Database
AIRFLOW_DB_HOST=postgres
AIRFLOW_DB_PORT=5432
AIRFLOW_DB_NAME=airflow
AIRFLOW_DB_USER=airflow
AIRFLOW_DB_PASSWORD=CHANGE_ME_AirflowDB123!  # ⚠️  CHANGE THIS!

# Airflow Configuration
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__DAGS_FOLDER=/opt/airflow/dags
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=False
AIRFLOW__WEBSERVER__SECRET_KEY=CHANGE_ME_LongRandomSecretKey123456!  # ⚠️  CHANGE THIS!

#======================================================================
# SECURITY & AUTHENTICATION
#======================================================================
# JWT Configuration (if implementing token-based auth)
JWT_SECRET_KEY=CHANGE_ME_JWTSecretKey123!  # ⚠️  CHANGE THIS!
JWT_EXPIRATION_HOURS=24

# BCrypt Settings
BCRYPT_COST_FACTOR=10

# Session Configuration
SESSION_TIMEOUT_MINUTES=30
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30

#======================================================================
# MONITORING & OBSERVABILITY
#======================================================================
# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Health Check Endpoints
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=30

# Logging Configuration
LOG_FILE_PATH=/app/logs/vericrop.log
LOG_MAX_SIZE=10MB
LOG_MAX_FILES=10
LOG_FORMAT=json  # Options: json, text

#======================================================================
# EXTERNAL INTEGRATIONS
#======================================================================
# Email Notifications (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@example.com
SMTP_PASSWORD=CHANGE_ME_EmailPassword!  # ⚠️  CHANGE THIS!
SMTP_FROM=noreply@vericrop.local

# Slack Notifications (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

#======================================================================
# BLOCKCHAIN CONFIGURATION
#======================================================================
BLOCKCHAIN_ENABLED=true
BLOCKCHAIN_VALIDATION_INTERVAL_SECONDS=300
BLOCKCHAIN_FILE_PATH=/app/ledger/vericrop_chain.json

#======================================================================
# PERFORMANCE TUNING
#======================================================================
# JVM Settings for Java Services
JAVA_OPTS=-Xms512m -Xmx2g -XX:+UseG1GC -XX:MaxGCPauseMillis=200
JAVA_TOOL_OPTIONS=-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0

# Python Worker Settings
PYTHON_WORKERS=4
UVICORN_WORKERS=4

#======================================================================
# BACKUP & DISASTER RECOVERY
#======================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backups

#======================================================================
# RATE LIMITING & THROTTLING
#======================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

#======================================================================
# CORS & API SECURITY
#======================================================================
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://vericrop.example.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

#======================================================================
# FEATURE FLAGS
#======================================================================
FEATURE_BLOCKCHAIN_ENABLED=true
FEATURE_KAFKA_ENABLED=true
FEATURE_ML_PREDICTION_ENABLED=true
FEATURE_EMAIL_NOTIFICATIONS_ENABLED=false
FEATURE_SLACK_NOTIFICATIONS_ENABLED=false

#======================================================================
# DEVELOPMENT/DEBUG SETTINGS (Disable in production!)
#======================================================================
DEBUG_MODE=false
SPRING_DEVTOOLS_RESTART_ENABLED=false
SPRING_H2_CONSOLE_ENABLED=false

#######################################################################
# END OF CONFIGURATION
# Remember to:
# 1. Change all CHANGE_ME_ values
# 2. Set strong passwords (minimum 16 characters, mixed case, numbers, symbols)
# 3. Use environment-specific values for each deployment
# 4. Store sensitive values in a secret management system (Vault, AWS Secrets Manager, etc.)
# 5. Never commit this file with real credentials to version control
#######################################################################
